<div class="header">
  <div class="header-title">
    <h2>Gesti√≥n de Pagos</h2>
    <p>Control de mensualidades y pagos de estudiantes</p>
  </div>
  <div class="header-actions">
    <input type="text" class="search-box" id="search-payments" placeholder="üîç Buscar pago...">

    <div class="turn-selector-pagos">
      <button class="turn-btn-pagos active" data-turn="manana">
        <span class="turn-icon-pagos"><i class="fa-solid fa-sun"></i></span>
        <div>
          <div class="turn-label-pagos">Jornada Ma√±ana</div>
        </div>
      </button>
      <button class="turn-btn-pagos" data-turn="tarde">
        <span class="turn-icon-pagos"><i class="fa-solid fa-moon"></i></span>
        <div>
          <div class="turn-label-pagos">Jornada Tarde</div>
        </div>
      </button>
    </div>
  </div>
</div>

<div class="content-area">
  <!-- Payment Stats -->
  <div class="payment-stats">
    <div class="payment-card total">
      <div class="payment-icon"><i class="fa-solid fa-sack-dollar"></i></div>
      <div class="payment-info">
        <div class="payment-value">$2,400</div>
        <div class="payment-label">Esperado del Mes</div>
      </div>
    </div>
    <div class="payment-card pending">
      <div class="payment-icon"><i class="fa-solid fa-clock"></i></div>
      <div class="payment-info">
        <div class="payment-value">3</div>
        <div class="payment-label">Pagos Pendientes</div>
        <div class="payment-secondary text-danger">$150 por recibir</div>
      </div>
    </div>
    <div class="payment-card completed">
      <div class="payment-icon"><i class="fa-solid fa-check"></i></div>
      <div class="payment-info">
        <div class="payment-value">45</div>
        <div class="payment-label">Pagos Completados</div>
        <div class="payment-secondary text-success">$2,250 recibido</div>
      </div>
    </div>
  </div>

  <!-- Payments Table -->
  <div class="table-container">
    <div class="table-header">
      <h3><i class="fa-solid fa-credit-card"></i> Historial de Pagos</h3>

      <div class="month-selector">
        <label for="month-filter">Mes:</label>
        <select id="month-filter">
          <option value="enero">Enero</option>
          <option value="febrero">Febrero</option>
          <option value="marzo">Marzo</option>
          <option value="abril">Abril</option>
          <option value="mayo">Mayo</option>
          <option value="junio">Junio</option>
          <option value="julio">Julio</option>
          <option value="agosto">Agosto</option>
          <option value="septiembre">Septiembre</option>
          <option value="octubre">Octubre</option>
          <option value="noviembre">Noviembre</option>
          <option value="diciembre">Diciembre</option>
        </select>
      </div>
    </div>

    <table id="payments-table-manana">
      <thead>
        <tr>
          <th>Estudiante</th>
          <th>Mensualidad</th>
          <th>Monto</th>
          <th>Fecha</th>
          <th>Concepto</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="payments-tbody-manana">
        <!-- FILAS DE PAGOS MA√ëANA -->
      </tbody>
    </table>

    <table id="payments-table-tarde" style="display: none;">
      <thead>
        <tr>
          <th>Estudiante</th>
          <th>Mensualidad</th>
          <th>Monto</th>
          <th>Fecha</th>
          <th>Concepto</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="payments-tbody-tarde">
        <!-- FILAS DE PAGOS TARDE -->
      </tbody>
    </table>
  </div>
</div>

<!-- Modal de Registro de Pago -->
<div id="payment-modal" class="modal" style="display: none;">
  <div class="modal-content modal-large">
    <div class="modal-header">
      <h2 id="payment-modal-title"><i class="fa-solid fa-sack-dollar"></i> Registrar Pago</h2>
      <button class="modal-close" id="payment-modal-close">‚úï</button>
    </div>

    <div class="modal-body">
      <form id="payment-form">
        <input type="hidden" id="payment-estudiante-id">

        <div class="student-payment-info">
          <h3 id="payment-student-name"></h3>
          <p>Mensualidad: <strong id="payment-mensualidad"></strong></p>
          <p>√öltimo mes pagado: <strong id="payment-ultimo-mes">-</strong></p>
          <p class="text-danger" id="payment-deuda" style="display: none;">
            Deuda pendiente: <strong></strong>
          </p>
        </div>

        <div class="form-divider"></div>

        <div class="form-section">
          <div class="form-row-pagos">
            <div class="form-group">
              <label for="payment-tipo"><i class="fa-solid fa-hand-holding-dollar"></i> Tipo de Pago *</label>
              <select id="payment-tipo" required>
                <option value="">Seleccionar...</option>
                <option value="abono">Abono</option>
                <option value="pago-mes">Pago Completo del Mes</option>
                <option value="adelantado">Pago Adelantado</option>
              </select>
            </div>

            <!-- Selector de mes (se oculta cuando es pago adelantado) -->
            <div class="form-group" id="payment-mes-container">
              <label for="payment-mes"><i class="fa-solid fa-calendar"></i> Mes *</label>
              <select id="payment-mes" required>
                <option value="">Seleccionar mes...</option>
                <option value="enero">Enero</option>
                <option value="febrero">Febrero</option>
                <option value="marzo">Marzo</option>
                <option value="abril">Abril</option>
                <option value="mayo">Mayo</option>
                <option value="junio">Junio</option>
                <option value="julio">Julio</option>
                <option value="agosto">Agosto</option>
                <option value="septiembre">Septiembre</option>
                <option value="octubre">Octubre</option>
                <option value="noviembre">Noviembre</option>
                <option value="diciembre">Diciembre</option>
              </select>
            </div>

            <!-- Rango de fechas para pago adelantado (oculto por defecto) -->
            <div class="form-group" id="payment-rango-container" style="display: none;">
              <label>
                <i class="fa-solid fa-calendar-days"></i> Periodo de Pago *
              </label>

              <div class="months-grid">
                <label><input type="checkbox" value="enero"> Enero</label>
                <label><input type="checkbox" value="febrero"> Febrero</label>
                <label><input type="checkbox" value="marzo"> Marzo</label>
                <label><input type="checkbox" value="abril"> Abril</label>
                <label><input type="checkbox" value="mayo"> Mayo</label>
                <label><input type="checkbox" value="junio"> Junio</label>
                <label><input type="checkbox" value="julio"> Julio</label>
                <label><input type="checkbox" value="agosto"> Agosto</label>
                <label><input type="checkbox" value="septiembre"> Septiembre</label>
                <label><input type="checkbox" value="octubre"> Octubre</label>
                <label><input type="checkbox" value="noviembre"> Noviembre</label>
                <label><input type="checkbox" value="diciembre"> Diciembre</label>
              </div>
            </div>

          </div>
        </div>

        <div class="form-divider"></div>

        <!-- Detalles del pago -->
        <div class="form-row">
          <div class="form-group">
            <label for="payment-monto"><i class="fa-solid fa-money-bill"></i> Monto a Pagar *</label>
            <input type="number" id="payment-monto" step="0.01" required>
            <small id="payment-monto-hint"></small>
          </div>

          <div class="form-group">
            <label for="payment-fecha"><i class="fa-solid fa-calendar-days"></i> Fecha de Pago *</label>
            <input type="date" id="payment-fecha" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="payment-metodo"><i class="fa-solid fa-credit-card"></i> M√©todo de Pago *</label>
            <select id="payment-metodo" required>
              <option value="">Seleccionar...</option>
              <option value="efectivo">Efectivo</option>
              <option value="transferencia">Transferencia</option>
              <option value="daviplata">Daviplata</option>
              <option value="nequi">Nequi</option>
              <option value="tarjeta">Tarjeta</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label for="payment-concepto"><i class="fa-solid fa-comment-dots"></i> Concepto / Notas</label>
          <textarea id="payment-concepto" rows="3"
            placeholder="Ej: Pago mensualidad enero, Abono parcial, etc."></textarea>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="payment-btn-cancel">Cancelar</button>
          <button type="submit" class="btn btn-primary">
            <i class="fa-solid fa-check"></i> Registrar Pago
          </button>
        </div>
      </form>
    </div>
  </div>
</div>